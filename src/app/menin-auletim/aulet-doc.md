# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å–µ—Ä–≤–∏—Å–∞ Aulet (–°–µ–º–µ–π–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è)

## –û–±–∑–æ—Ä

–°–µ—Ä–≤–∏—Å **Aulet** –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ–º–µ–π–Ω—ã–º–∏ –¥–µ—Ä–µ–≤—å—è–º–∏. –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω –≤ —Å–µ–º–µ–π–Ω–æ–º –¥–µ—Ä–µ–≤–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–≤—è–∑–µ–π (—Å—É–ø—Ä—É–≥–∏, –¥–µ—Ç–∏, —Ä–æ–¥–∏—Ç–µ–ª–∏).

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- üå≥ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–µ–º–µ–π–Ω—ã—Ö —Å–≤—è–∑–µ–π
- üìä –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π [family-chart](https://www.npmjs.com/package/family-chart)
- üë• –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- üîÑ –î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏
- üóëÔ∏è –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
- üñºÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤

---

## –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ë–∞–∑–æ–≤—ã–π URL:** `/api/aulet`  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** Bearer JWT Token  
**Content-Type:** `application/json`

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### PersonData
```json
{
  "first_name": "string",      // –ò–º—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  "last_name": "string",       // –§–∞–º–∏–ª–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  "gender": "M|F",            // –ü–æ–ª: M (–º—É–∂—Å–∫–æ–π) –∏–ª–∏ F (–∂–µ–Ω—Å–∫–∏–π)
  "birthday": "string",        // –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ "YYYY-MM-DD"
  "death_date": "string|null", // –î–∞—Ç–∞ —Å–º–µ—Ä—Ç–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  "avatar": "string|null"      // URL –∞–≤–∞—Ç–∞—Ä–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "def-ava.png")
}
```

### Rels (–°–≤—è–∑–∏)
```json
{
  "spouses": [int],   // –ú–∞—Å—Å–∏–≤ ID —Å—É–ø—Ä—É–≥–æ–≤
  "children": [int],  // –ú–∞—Å—Å–∏–≤ ID –¥–µ—Ç–µ–π
  "father": int|null, // ID –æ—Ç—Ü–∞
  "mother": int|null  // ID –º–∞—Ç–µ—Ä–∏
}
```

### –§–æ—Ä–º–∞—Ç –¥–ª—è family-chart
```json
{
  "id": "string",
  "rels": {
    "spouses": ["string"],  // –¢–æ–ª—å–∫–æ —Å—É–ø—Ä—É–≥–∏ –∏ –¥–µ—Ç–∏ –¥–ª—è family-chart
    "children": ["string"]
  },
  "data": {
    "first name": "string",
    "last name": "string", 
    "birthday": "string",
    "avatar": "string",
    "gender": "M|F",
    "death_date": "string" // –ï—Å–ª–∏ –µ—Å—Ç—å
  }
}
```

---

## API Endpoints

### 1. –ü–æ–ª—É—á–∏—Ç—å —Å–µ–º–µ–π–Ω–æ–µ –¥–µ—Ä–µ–≤–æ
```http
GET /api/aulet/my
```

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω–æ–µ —Å–µ–º–µ–π–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ family-chart.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer <JWT_TOKEN>
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": [
    {
      "id": "1",
      "rels": {
        "spouses": ["2"],
        "children": ["3"]
      },
      "data": {
        "first name": "–ò–≤–∞–Ω",
        "last name": "–ü–µ—Ç—Ä–æ–≤",
        "birthday": "1975-05-15",
        "avatar": "def-ava.png",
        "gender": "M"
      }
    }
  ]
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:**
- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### 2. –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω—É
```http
POST /api/aulet/my/create
```

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –ø–µ—Ä—Å–æ–Ω—É –≤ —Å–µ–º–µ–π–Ω–æ–º –¥–µ—Ä–µ–≤–µ.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer <JWT_TOKEN>
Content-Type: application/json
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "user_id": 1,
  "data": {
    "first_name": "–ò–≤–∞–Ω",
    "last_name": "–ü–µ—Ç—Ä–æ–≤",
    "gender": "M",
    "birthday": "1975-05-15",
    "death_date": null,
    "avatar": null
  },
  "rels": {
    "spouses": [],
    "children": [],
    "father": null,
    "mother": null
  }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "id": "1",
    "rels": {
      "spouses": [],
      "children": []
    },
    "data": {
      "first name": "–ò–≤–∞–Ω",
      "last name": "–ü–µ—Ç—Ä–æ–≤",
      "birthday": "1975-05-15",
      "avatar": "def-ava.png",
      "gender": "M"
    }
  }
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:**
- `200` - –£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ
- `400` - –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- `401` - –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `422` - –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª–µ–π

---

### 3. –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä—Å–æ–Ω—É
```http
PUT /api/aulet/my/update/{person_id}
```

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ —Å–≤—è–∑–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–µ—Ä—Å–æ–Ω—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `person_id` (int) - ID –ø–µ—Ä—Å–æ–Ω—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer <JWT_TOKEN>
Content-Type: application/json
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "person_id": 1,
  "data": {
    "first_name": "–ò–≤–∞–Ω",
    "last_name": "–ü–µ—Ç—Ä–æ–≤",
    "gender": "M",
    "birthday": "1975-05-15",
    "death_date": null,
    "avatar": "custom-avatar.png"
  },
  "rels": {
    "spouses": [2],
    "children": [3],
    "father": null,
    "mother": null
  }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "id": "1",
    "rels": {
      "spouses": ["2"],
      "children": ["3"]
    },
    "data": {
      "first name": "–ò–≤–∞–Ω",
      "last name": "–ü–µ—Ç—Ä–æ–≤",
      "birthday": "1975-05-15",
      "avatar": "custom-avatar.png",
      "gender": "M"
    }
  }
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:**
- `200` - –£—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ
- `400` - –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- `401` - –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `404` - –ü–µ—Ä—Å–æ–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

---

### 4. –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä—Å–æ–Ω—É
```http
DELETE /api/aulet/my/delete/{person_id}
```

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã–ø–æ–ª–Ω—è–µ—Ç –º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω—ã (–ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—É—é).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `person_id` (int) - ID –ø–µ—Ä—Å–æ–Ω—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer <JWT_TOKEN>
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": true
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:**
- `200` - –£—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ
- `401` - –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `404` - –ü–µ—Ä—Å–æ–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–º—å–∏: –æ—Ç–µ—Ü ‚Üí –º–∞—Ç—å ‚Üí —Ä–µ–±–µ–Ω–æ–∫

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—Ü–∞
```bash
curl -X POST "http://localhost:8000/api/aulet/my/create" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 1,
    "data": {
      "first_name": "–ò–≤–∞–Ω",
      "last_name": "–ü–µ—Ç—Ä–æ–≤",
      "gender": "M",
      "birthday": "1975-05-15",
      "death_date": null,
      "avatar": null
    },
    "rels": {
      "spouses": [],
      "children": [],
      "father": null,
      "mother": null
    }
  }'
```

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏ (—Å—É–ø—Ä—É–≥–∏ –æ—Ç—Ü–∞)
```bash
curl -X POST "http://localhost:8000/api/aulet/my/create" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 1,
    "data": {
      "first_name": "–ú–∞—Ä–∏—è",
      "last_name": "–ü–µ—Ç—Ä–æ–≤–∞",
      "gender": "F",
      "birthday": "1978-03-20",
      "death_date": null,
      "avatar": null
    },
    "rels": {
      "spouses": [1],
      "children": [],
      "father": null,
      "mother": null
    }
  }'
```

#### 3. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–±–µ–Ω–∫–∞
```bash
curl -X POST "http://localhost:8000/api/aulet/my/create" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 1,
    "data": {
      "first_name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä",
      "last_name": "–ü–µ—Ç—Ä–æ–≤",
      "gender": "M",
      "birthday": "2005-12-10",
      "death_date": null,
      "avatar": null
    },
    "rels": {
      "spouses": [],
      "children": [],
      "father": 1,
      "mother": 2
    }
  }'
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å family-chart

```javascript
import { FamilyChart } from 'family-chart';

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–µ–º–µ–π–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞
const response = await fetch('/api/aulet/my', {
  headers: {
    'Authorization': `Bearer ${jwt_token}`
  }
});

const result = await response.json();
const familyData = result.data;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è family-chart
const familyChart = new FamilyChart(familyData, {
  // –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
  target: '#family-tree-container',
  // –¥—Ä—É–≥–∏–µ –æ–ø—Ü–∏–∏
});
```

---

## –õ–æ–≥–∏–∫–∞ —Å–≤—è–∑–µ–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏:

1. **–°—É–ø—Ä—É–∂–µ—Å–∫–∏–µ —Å–≤—è–∑–∏:** –ü—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ —Å—É–ø—Ä—É–≥–∞ —É –æ–¥–Ω–æ–π –ø–µ—Ä—Å–æ–Ω—ã, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
2. **–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —Å–≤—è–∑–∏:** –ü—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π —É —Ä–µ–±–µ–Ω–∫–∞, –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π —Ä–æ–¥–∏—Ç–µ–ª–µ–π
3. **–î–µ—Ç—Å–∫–∏–µ —Å–≤—è–∑–∏:** –ü—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –¥–µ—Ç–µ–π —É —Ä–æ–¥–∏—Ç–µ–ª—è, —É –¥–µ—Ç–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–≤—è–∑—å —Å —Ä–æ–¥–∏—Ç–µ–ª–µ–º

### –¢–∏–ø—ã —Å–≤—è–∑–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- `spouses` - —Å—É–ø—Ä—É–∂–µ—Å–∫–∏–µ —Å–≤—è–∑–∏
- `children` - —Å–≤—è–∑–∏ —Ä–æ–¥–∏—Ç–µ–ª—å‚Üí—Ä–µ–±–µ–Ω–æ–∫  
- `father` - —Å–≤—è–∑—å —Ä–µ–±–µ–Ω–æ–∫‚Üí–æ—Ç–µ—Ü
- `mother` - —Å–≤—è–∑—å —Ä–µ–±–µ–Ω–æ–∫‚Üí–º–∞—Ç—å

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –û–±—â–∏–µ –æ—à–∏–±–∫–∏

**401 Unauthorized**
```json
{
  "status": "error",
  "data": {
    "detail": "–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"
  }
}
```

**400 Bad Request**
```json
{
  "status": "error", 
  "data": {
    "detail": "–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω—ã: <–¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏>"
  }
}
```

**404 Not Found**
```json
{
  "status": "error",
  "data": {
    "detail": "–ü–µ—Ä—Å–æ–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
  }
}
```

**422 Validation Error**
```json
{
  "status": "error",
  "data": {
    "detail": [
      {
        "loc": ["data", "gender"],
        "msg": "field required",
        "type": "value_error.missing"
      }
    ]
  }
}
```

---

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ü–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:
1. –†–æ–¥–∏—Ç–µ–ª–∏
2. –°—É–ø—Ä—É–∂–µ—Å–∫–∏–µ —Å–≤—è–∑–∏
3. –î–µ—Ç–∏

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑—è–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ ID –ø–µ—Ä—Å–æ–Ω –≤ —Å–≤—è–∑—è—Ö
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–≤—è–∑–µ–π
- –ü–æ–º–Ω–∏—Ç–µ –æ –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏ —Å–≤—è–∑–µ–π

### 3. –ê–≤–∞—Ç–∞—Ä—ã
- –ï—Å–ª–∏ –∞–≤–∞—Ç–∞—Ä –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `def-ava.png`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ URL

### 4. –î–∞—Ç—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç `YYYY-MM-DD` –¥–ª—è –¥–∞—Ç
- `death_date` –º–æ–∂–µ—Ç –±—ã—Ç—å `null` –¥–ª—è –∂–∏–≤—ã—Ö –ø–µ—Ä—Å–æ–Ω

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
–í—Å–µ endpoints —Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:
```
Authorization: Bearer <your_jwt_token>
```

### –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–µ–º–µ–π–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è
- `user_id` –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ JWT —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
- –ü–µ—Ä—Å–æ–Ω—ã –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–º–µ—á–∞—é—Ç—Å—è —Ñ–ª–∞–≥–æ–º `is_deleted=true`
- –í—Å–µ —Å–≤—è–∑–∏ —Å —É–¥–∞–ª–µ–Ω–Ω–æ–π –ø–µ—Ä—Å–æ–Ω–æ–π —Ç–∞–∫–∂–µ —É–¥–∞–ª—è—é—Ç—Å—è

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

**Aulet (–ü–µ—Ä—Å–æ–Ω–∞):**
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
- `first_name` - –∏–º—è
- `last_name` - —Ñ–∞–º–∏–ª–∏—è
- `gender` - –ø–æ–ª (enum: M/F)
- `birthday` - –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
- `death_date` - –¥–∞—Ç–∞ —Å–º–µ—Ä—Ç–∏ (nullable)
- `avatar` - –∞–≤–∞—Ç–∞—Ä (nullable)
- `is_deleted` - —Ñ–ª–∞–≥ —É–¥–∞–ª–µ–Ω–∏—è
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**AuletRelation (–°–≤—è–∑–∏):**
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `type` - —Ç–∏–ø —Å–≤—è–∑–∏ (enum: father/mother/children/spouses)
- `node_id` - ID –æ—Å–Ω–æ–≤–Ω–æ–π –ø–µ—Ä—Å–æ–Ω—ã
- `related_node_id` - ID —Å–≤—è–∑–∞–Ω–Ω–æ–π –ø–µ—Ä—Å–æ–Ω—ã
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –°–µ—Ä–≤–∏—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

**AuletService:**
- `get_aulet_tree(user_id)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞
- `create_aulet_person(user_id, person)` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω—ã
- `update_aulet_person(user_id, person_update)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω—ã
- `delete_aulet_person(user_id, person_id)` - —É–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω—ã
- `_get_gender_value(gender)` - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–∞

---

## –í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** 1.0  
**–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** family-chart library  
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2024

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å JWT —Ç–æ–∫–µ–Ω–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–µ—Ä—Å–æ–Ω
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –ª–æ–≥–∞–º —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ 