{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background border-primary text-primary shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,qKAAA,CAAA,OAAoB;QACnB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,qKAAA,CAAA,QAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6LAAC,qKAAA,CAAA,WAAwB;QACvB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/ClientOnly.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\ninterface ClientOnlyProps {\n    children: React.ReactNode;\n    fallback?: React.ReactNode;\n}\n\nexport function ClientOnly({ children, fallback = null }: ClientOnlyProps) {\n    const [hasMounted, setHasMounted] = useState(false);\n\n    useEffect(() => {\n        setHasMounted(true);\n    }, []);\n\n    if (!hasMounted) {\n        return <>{fallback}</>;\n    }\n\n    return <>{children}</>;\n} "],"names":[],"mappings":";;;;AAEA;;;AAFA;;AASO,SAAS,WAAW,EAAE,QAAQ,EAAE,WAAW,IAAI,EAAmB;;IACrE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACN,cAAc;QAClB;+BAAG,EAAE;IAEL,IAAI,CAAC,YAAY;QACb,qBAAO;sBAAG;;IACd;IAEA,qBAAO;kBAAG;;AACd;GAZgB;KAAA","debugId":null}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/nav/NavHeader.tsx"],"sourcesContent":["\"use client\"\nimport * as React from 'react';\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n    DropdownMenu,\n    DropdownMenuContent,\n    DropdownMenuItem,\n    DropdownMenuSeparator,\n    DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { Menu, X } from 'lucide-react';\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { ClientOnly } from \"@/components/ClientOnly\";\n\ntype Props = {\n\n};\n\nexport const NavHeader = (props: Props) => {\n    const pathname = usePathname();\n    const [isOpen, setIsOpen] = React.useState(false);\n    const { page, isHydrated } = useAuth();\n\n    React.useEffect(() => {\n        // Close mobile menu when route changes\n        setIsOpen(false);\n    }, [pathname]);\n\n    // Prevent scroll when mobile menu is open - only after hydration\n    React.useEffect(() => {\n        if (!isHydrated) return;\n        \n        if (isOpen) {\n            document.body.style.overflow = 'hidden';\n        } else {\n            document.body.style.overflow = 'unset';\n        }\n        return () => {\n            document.body.style.overflow = 'unset';\n        };\n    }, [isOpen, isHydrated]);\n\n    // Base nav items that are always available\n    const baseNavItems = [\n        { href: \"/\", label: \"Шежіре\" },\n        { href: \"/menin-auletim\", label: \"Менің әулетім\" },\n        { href: \"/stats\", label: \"Статистика\" },\n    ];\n\n    // Additional nav items based on page data - only show after hydration\n    const dynamicNavItems = isHydrated && page ? [\n        { href: \"/menin-ruym\", label: page.title },\n        { href: \"/zhanalyktar\", label: page?.title ? page.title + \" жаңалықтары\" : \"\" },\n    ] : [];\n\n    const navItems = [...baseNavItems, ...dynamicNavItems];\n\n    const userMenuItems = [\n        { href: \"/profile\", label: \"Менің парақшам\" },\n        { href: \"/settings\", label: \"Баптаулар\" },\n        { href: \"/auth/logout\", label: \"Шығу\" }\n    ];\n\n    return (\n        <>\n            <motion.div\n                initial={{ opacity: 0, y: -20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.5 }}\n                className=\"bg-primary text-white p-5 mt-4 rounded-2xl shadow-2xl z-1000\"\n            >\n                <div className=\"flex items-center justify-between md:justify-start md:gap-10\">\n                    <motion.div\n                        whileHover={{ scale: 1.05 }}\n                        whileTap={{ scale: 0.95 }}\n                        transition={{ type: \"spring\", stiffness: 400, damping: 17 }}\n                    >\n                        <Link href=\"/\">\n                            <img src=\"logo-text-white.png\" alt=\"Atatek LOGO\" width=\"120px\" />\n                        </Link>\n                    </motion.div>\n\n                    {/* Desktop Navigation */}\n                    <div className=\"hidden md:flex nav-items gap-6\">\n                        {navItems.map((item) => (\n                            <NavItem\n                                key={item.href}\n                                href={item.href}\n                                label={item.label}\n                                isActive={pathname === item.href}\n                            />\n                        ))}\n                    </div>\n\n                    {/* Desktop User Avatar */}\n                    <motion.div\n                        className=\"hidden md:block ava ml-auto\"\n                        initial={{ opacity: 0, scale: 0.8 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        transition={{ delay: 0.3, duration: 0.4 }}\n                    >\n                        <DropdownMenu>\n                            <DropdownMenuTrigger asChild>\n                                <motion.div\n                                    whileHover={{ scale: 1.1 }}\n                                    whileTap={{ scale: 0.9 }}\n                                    transition={{ type: \"spring\", stiffness: 400, damping: 10 }}\n                                >\n                                    <Avatar className=\"rounded-xs m-auto size-10 cursor-pointer border-2 border-transparent hover:border-white transition-all duration-300\">\n                                        <AvatarImage src=\"https://githubs.com/shadcn.png\" />\n                                        <AvatarFallback className=\"bg-secondary text-black rounded-sm\">БК</AvatarFallback>\n                                    </Avatar>\n                                </motion.div>\n                            </DropdownMenuTrigger>\n                            <DropdownMenuContent className=\"mt-2 bg-white/95 backdrop-blur-sm\">\n                                {userMenuItems.map((item) => (\n                                    <DropdownMenuItem\n                                        key={item.href}\n                                        className=\"cursor-pointer transition-all duration-200 hover:bg-primary/10 hover:pl-4\"\n                                    >\n                                        <Link href={item.href}>{item.label}</Link>\n                                    </DropdownMenuItem>\n                                ))}\n                            </DropdownMenuContent>\n                        </DropdownMenu>\n                    </motion.div>\n\n                    {/* Mobile Menu Button */}\n                    <motion.button\n                        className=\"md:hidden flex items-center justify-center\"\n                        whileTap={{ scale: 0.9 }}\n                        onClick={() => setIsOpen(!isOpen)}\n                    >\n                        {isOpen ?\n                            <X size={24} className=\"text-white\" /> :\n                            <Menu size={24} className=\"text-white\" />\n                        }\n                    </motion.button>\n                </div>\n            </motion.div>\n\n            {/* Mobile Side Menu */}\n            <ClientOnly>\n                <AnimatePresence>\n                    {isOpen && (\n                        <>\n                            <motion.div\n                                initial={{ opacity: 0 }}\n                                animate={{ opacity: 0.5 }}\n                                exit={{ opacity: 0 }}\n                                className=\"fixed inset-0 bg-black z-40\"\n                                onClick={() => setIsOpen(false)}\n                            />\n\n                            <motion.div\n                                initial={{ x: \"100%\" }}\n                                animate={{ x: 0 }}\n                                exit={{ x: \"100%\" }}\n                                transition={{ type: \"spring\", damping: 20 }}\n                                className=\"fixed top-0 right-0 h-full w-3/4 max-w-xs bg-primary z-50 p-6 overflow-y-auto\"\n                            >\n                                <div className=\"flex flex-col h-full\">\n                                    {/* Mobile Avatar */}\n                                    <div className=\"flex justify-center mb-8 mt-4\">\n                                        <motion.div\n                                            initial={{ scale: 0.8, opacity: 0 }}\n                                            animate={{ scale: 1, opacity: 1 }}\n                                            transition={{ delay: 0.2 }}\n                                        >\n                                            <Avatar className=\"size-16\">\n                                                <AvatarImage src=\"https://githubs.com/shadcn.png\" />\n                                                <AvatarFallback className=\"bg-secondary text-black text-xl\">БК</AvatarFallback>\n                                            </Avatar>\n                                        </motion.div>\n                                    </div>\n\n                                    {/* Mobile Navigation Links */}\n                                    <div className=\"space-y-4\">\n                                        {navItems.map((item, idx) => (\n                                            <motion.div\n                                                key={item.href}\n                                                initial={{ x: 50, opacity: 0 }}\n                                                animate={{ x: 0, opacity: 1 }}\n                                                transition={{ delay: 0.1 + idx * 0.1 }}\n                                            >\n                                                <Link\n                                                    href={item.href}\n                                                    className={`block py-2 px-4 text-lg font-medium rounded-lg transition-colors duration-200 ${\n                                                        pathname === item.href\n                                                            ? \"bg-white/20 text-white\"\n                                                            : \"text-white/80 hover:bg-white/10 hover:text-white\"\n                                                    }`}\n                                                >\n                                                    {item.label}\n                                                </Link>\n                                            </motion.div>\n                                        ))}\n                                    </div>\n\n                                    {/* Mobile User Menu Items */}\n                                    <div className=\"mt-auto mb-8\">\n                                        <motion.div\n                                            initial={{ opacity: 0 }}\n                                            animate={{ opacity: 0.6 }}\n                                            className=\"h-px bg-white my-4\"\n                                        />\n\n                                        {userMenuItems.map((item, idx) => (\n                                            <motion.div\n                                                key={item.href}\n                                                initial={{ y: 20, opacity: 0 }}\n                                                animate={{ y: 0, opacity: 1 }}\n                                                transition={{ delay: 0.3 + idx * 0.1 }}\n                                            >\n                                                <Link\n                                                    href={item.href}\n                                                    className=\"block w-full text-left py-2 px-4 text-white/90 hover:text-white transition-colors\"\n                                                >\n                                                    {item.label}\n                                                </Link>\n                                            </motion.div>\n                                        ))}\n                                    </div>\n                                </div>\n                            </motion.div>\n                        </>\n                    )}\n                </AnimatePresence>\n            </ClientOnly>\n        </>\n    );\n};\n\nconst NavItem = ({ href, label, isActive }: { href: string; label: string; isActive: boolean }) => {\n    return (\n        <motion.div\n            whileHover={{ y: -2 }}\n            whileTap={{ y: 0 }}\n            className=\"relative\"\n        >\n            <Link href={href} className=\"relative group inline-block\">\n                <span className={`transition-colors duration-300 ${isActive ? 'text-white' : 'text-white/80 group-hover:text-white'}`}>{label}</span>\n                <span className={`absolute -bottom-1 left-0 h-0.5 bg-white transform origin-left transition-all duration-300 ease-out ${isActive ? 'w-full' : 'w-0 group-hover:w-full'}`}></span>\n            </Link>\n        </motion.div>\n    );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1044, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/contexts/aulet-context.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, ReactNode, useState } from 'react';\nimport axios from 'axios';\nimport { toast } from 'sonner';\nimport { useAuth } from '@/contexts/AuthContext';\n\nconst API_BASE_URL = 'https://api.atatek.kz';\n\n// Интерфейсы согласно документации API\nexport interface PersonData {\n  first_name: string;\n  last_name: string;\n  gender: 'M' | 'F';\n  birthday: string;\n  death_date?: string | null;\n  avatar?: string | null;\n}\n\nexport interface PersonRels {\n  spouses: number[];\n  children: number[];\n  father?: number | null;\n  mother?: number | null;\n}\n\nexport interface AuletPerson {\n  user_id: number;\n  data: PersonData;\n  rels: PersonRels;\n}\n\nexport interface FamilyChartPerson {\n  id: string;\n  rels: {\n    spouses: string[];\n    children: string[];\n  };\n  data: {\n    \"first name\": string;\n    \"last name\": string;\n    \"birthday\": string;\n    \"avatar\": string;\n    \"gender\": \"M\" | \"F\";\n    \"death_date\"?: string;\n  };\n}\n\ninterface AuletContextType {\n  // Состояние drawer\n  isDrawerOpen: boolean;\n  setIsDrawerOpen: (open: boolean) => void;\n  selectedPersonId: string | null;\n  setSelectedPersonId: (id: string | null) => void;\n  selectedPerson: FamilyChartPerson | null;\n  \n  // Состояние данных\n  familyTree: FamilyChartPerson[];\n  isLoading: boolean;\n  \n  // Методы для работы с API\n  fetchFamilyTree: () => Promise<void>;\n  createPerson: (personData: AuletPerson) => Promise<void>;\n  updatePerson: (personId: string, personData: AuletPerson) => Promise<void>;\n  deletePerson: (personId: string) => Promise<void>;\n  addSpouse: (personId: string, spouseData: PersonData) => Promise<void>;\n  addChild: (parentId: string, otherParentId: string | null, childData: PersonData) => Promise<void>;\n}\n\nconst AuletContext = createContext<AuletContextType | undefined>(undefined);\n\nexport function AuletProvider({ children }: { children: ReactNode }) {\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const [selectedPersonId, setSelectedPersonId] = useState<string | null>(null);\n  const [selectedPerson, setSelectedPerson] = useState<FamilyChartPerson | null>(null);\n  const [familyTree, setFamilyTree] = useState<FamilyChartPerson[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  \n  const { user } = useAuth();\n\n  // Получение семейного дерева\n  const fetchFamilyTree = React.useCallback(async () => {\n    try {\n      setIsLoading(true);\n      const response = await axios.get(`${API_BASE_URL}/aulet/api/aulet/my`, {\n        withCredentials: true,\n      });\n      \n      console.log('API Response:', response.data);\n      if (response.data.status === 'success' && response.data.data) {\n        console.log('Setting family tree data:', response.data.data);\n        setFamilyTree(response.data.data);\n      } else {\n        console.log('No data or failed status');\n        setFamilyTree([]);\n      }\n    } catch (error) {\n      console.error('Error fetching family tree:', error);\n      toast.error(\"Отбасы ағашын жүктеу кезінде қателік орын алды\");\n      setFamilyTree([]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Создание новой персоны\n  const createPerson = async (personData: AuletPerson) => {\n    try {\n      // Проверяем лимит по тарифу\n      if (user?.tariff?.t_family_count && familyTree.length >= user.tariff.t_family_count) {\n        toast.error(`Тарифыңыз бойынша ең көп ${user.tariff.t_family_count} адам қосуға болады`);\n        throw new Error('Family count limit exceeded');\n      }\n\n      const response = await axios.post(\n        `${API_BASE_URL}/aulet/api/aulet/my/create`,\n        {\n          ...personData,\n          user_id: user?.id\n        },\n        { withCredentials: true }\n      );\n      \n      if (response.data.status === 'success') {\n        toast.success(\"Жаңа тұлға сәтті құрылды\");\n        await fetchFamilyTree(); // Обновляем дерево\n      } else {\n        throw new Error('Failed to create person');\n      }\n    } catch (error) {\n      console.error('Error creating person:', error);\n      if (error instanceof Error && error.message === 'Family count limit exceeded') {\n        // Уже показали сообщение об ошибке\n        throw error;\n      } else {\n        toast.error(\"Тұлға құру кезінде қателік орын алды\");\n        throw error;\n      }\n    }\n  };\n\n  // Обновление персоны\n  const updatePerson = async (personId: string, personData: AuletPerson) => {\n    try {\n      const response = await axios.put(\n        `${API_BASE_URL}/aulet/api/aulet/my/update/${personId}`,\n        {\n          ...personData,\n          person_id: parseInt(personId)\n        },\n        { withCredentials: true }\n      );\n      \n      if (response.data.status === 'success') {\n        toast.success(\"Деректер сәтті жаңартылды\");\n        await fetchFamilyTree(); // Обновляем дерево\n      } else {\n        throw new Error('Failed to update person');\n      }\n    } catch (error) {\n      console.error('Error updating person:', error);\n      toast.error(\"Деректерді жаңарту кезінде қателік орын алды\");\n      throw error;\n    }\n  };\n\n  // Удаление персоны\n  const deletePerson = async (personId: string) => {\n    try {\n      const response = await axios.delete(\n        `${API_BASE_URL}/aulet/api/aulet/my/delete/${personId}`,\n        { withCredentials: true }\n      );\n      \n      if (response.data.status === 'success') {\n        toast.success(\"Тұлға сәтті жойылды\");\n        await fetchFamilyTree(); // Обновляем дерево\n        setIsDrawerOpen(false);\n      } else {\n        throw new Error('Failed to delete person');\n      }\n    } catch (error) {\n      console.error('Error deleting person:', error);\n      toast.error(\"Тұлғаны жою кезінде қателік орын алды\");\n      throw error;\n    }\n  };\n\n  // Добавление супруга\n  const addSpouse = async (personId: string, spouseData: PersonData) => {\n    try {\n      const spousePersonData: AuletPerson = {\n        user_id: user?.id || 0,\n        data: spouseData,\n        rels: {\n          spouses: [parseInt(personId)],\n          children: [],\n          father: null,\n          mother: null,\n        }\n      };\n\n      await createPerson(spousePersonData);\n      toast.success(\"Жұбай сәтті қосылды\");\n    } catch (error) {\n      console.error('Error adding spouse:', error);\n      toast.error(\"Жұбай қосу кезінде қателік орын алды\");\n      throw error;\n    }\n  };\n\n  // Добавление ребенка\n  const addChild = async (parentId: string, otherParentId: string | null, childData: PersonData) => {\n    try {\n      const parentPerson = familyTree.find(p => p.id === parentId);\n      const otherParentPerson = otherParentId ? familyTree.find(p => p.id === otherParentId) : null;\n      \n      console.log('Adding child with parents:', { parentPerson, otherParentPerson });\n\n      let fatherId: number | null = null;\n      let motherId: number | null = null;\n\n      // Определяем отца и мать по полу родителей\n      if (parentPerson) {\n        if (parentPerson.data.gender === 'M') {\n          fatherId = parseInt(parentId);\n        } else {\n          motherId = parseInt(parentId);\n        }\n      }\n\n      if (otherParentPerson) {\n        if (otherParentPerson.data.gender === 'M') {\n          fatherId = parseInt(otherParentId!);\n        } else {\n          motherId = parseInt(otherParentId!);\n        }\n      }\n\n      console.log('Determined parents:', { fatherId, motherId });\n\n      const childPersonData: AuletPerson = {\n        user_id: user?.id || 0,\n        data: childData,\n        rels: {\n          spouses: [],\n          children: [],\n          father: fatherId,\n          mother: motherId,\n        }\n      };\n\n      console.log('Child data to create:', childPersonData);\n\n      await createPerson(childPersonData);\n      toast.success(\"Бала сәтті қосылды\");\n    } catch (error) {\n      console.error('Error adding child:', error);\n      toast.error(\"Бала қосу кезінде қателік орын алды\");\n      throw error;\n    }\n  };\n\n  // Обновляем выбранную персону когда меняется ID\n  React.useEffect(() => {\n    if (selectedPersonId && familyTree.length > 0) {\n      const person = familyTree.find(p => p.id === selectedPersonId);\n      setSelectedPerson(person || null);\n    } else {\n      setSelectedPerson(null);\n    }\n  }, [selectedPersonId, familyTree]);\n\n  return (\n    <AuletContext.Provider value={{\n      isDrawerOpen,\n      setIsDrawerOpen,\n      selectedPersonId,\n      setSelectedPersonId,\n      selectedPerson,\n      familyTree,\n      isLoading,\n      fetchFamilyTree,\n      createPerson,\n      updatePerson,\n      deletePerson,\n      addSpouse,\n      addChild\n    }}>\n      {children}\n    </AuletContext.Provider>\n  );\n}\n\nexport function useAulet() {\n  const context = useContext(AuletContext);\n  if (context === undefined) {\n    throw new Error('useAulet must be used within a AuletProvider');\n  }\n  return context;\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1303, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/aulet/aulet-family-chart.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useRef, useEffect } from \"react\";\nimport f3 from 'family-chart';\nimport 'family-chart/styles/family-chart.css';\nimport { useAulet } from '@/contexts/aulet-context';\nimport { Button } from '@/components/ui/button';\nimport { Plus } from 'lucide-react';\n\n// Стили для линий семейного дерева\nconst treeStyles = `\n  .f3 .link {\n    stroke: #374151 !important;\n    stroke-width: 2px !important;\n    fill: none !important;\n  }\n  \n  .f3 .link-marriage {\n    stroke: #dc2626 !important;\n    stroke-width: 2px !important;\n    fill: none !important;\n  }\n  \n  .f3 .link-parent {\n    stroke: #059669 !important;\n    stroke-width: 2px !important;\n    fill: none !important;\n  }\n  \n  .f3 .link-child {\n    stroke: #2563eb !important;\n    stroke-width: 2px !important;\n    fill: none !important;\n  }\n  \n  .f3 path {\n    stroke: #374151 !important;\n    stroke-width: 2px !important;\n    fill: none !important;\n  }\n  \n  .f3 line {\n    stroke: #374151 !important;\n    stroke-width: 2px !important;\n  }\n`;\n\ninterface AuletFamilyChartProps {\n  orientation?: \"vertical\" | \"horizontal\";\n}\n\nexport function AuletFamilyChart({ orientation = \"vertical\" }: AuletFamilyChartProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const { \n    familyTree, \n    isLoading, \n    fetchFamilyTree, \n    setSelectedPersonId, \n    setIsDrawerOpen \n  } = useAulet();\n\n  // Загружаем данные при монтировании компонента\n  useEffect(() => {\n    fetchFamilyTree();\n  }, [fetchFamilyTree]);\n\n  // Создаем диаграмму при изменении данных\n  useEffect(() => {\n    console.log('FamilyTree data:', familyTree);\n    if (familyTree.length > 0 && containerRef.current) {\n      // Добавляем небольшую задержку для полной инициализации DOM\n      setTimeout(() => {\n        createChart(familyTree);\n      }, 100);\n    }\n  }, [familyTree]);\n\n  // Резервная функция для обработки клика через DOM\n  const handleCardClickFallback = (cardElement: HTMLElement) => {\n    const cardText = cardElement.textContent || '';\n    const personData = familyTree.find(person => {\n      const fullName = `${person.data[\"first name\"]} ${person.data[\"last name\"]}`;\n      return cardText.includes(fullName) || cardText.includes(person.data[\"first name\"]);\n    });\n    \n    if (personData) {\n      console.log('Fallback: Found person data:', personData);\n      setSelectedPersonId(personData.id);\n      setIsDrawerOpen(true);\n    }\n  };\n\n  const createChart = (data: any[]) => {\n    if (!containerRef.current) {\n      console.log('Container ref is null');\n      return;\n    }\n\n    console.log('Creating chart with data:', data);\n    \n    // Очищаем контейнер\n    containerRef.current.innerHTML = '';\n\n    // Добавляем ID к каждому элементу данных для правильной идентификации\n    const dataWithIndex = data.map((person, index) => ({\n      ...person,\n      _originalIndex: index\n    }));\n\n    const f3Chart = f3.createChart(containerRef.current, dataWithIndex)\n      .setTransitionTime(1000)\n      .setCardXSpacing(200)\n      .setCardYSpacing(250)\n      .setSingleParentEmptyCard(true, { label: 'ҚОСУ' })\n      .setShowSiblingsOfMain(true);\n\n    // Устанавливаем ориентацию на основе пропса\n    if (orientation === \"vertical\") {\n      f3Chart.setOrientationVertical();\n    } else {\n      f3Chart.setOrientationHorizontal();\n    }\n\n    const f3Card = f3Chart.setCard(f3.CardHtml)\n      .setCardDisplay([[\"first name\", \"last name\"], [\"birthday\", \"death_date\"]])\n      .setCardDim({width: 100, height: 100})\n      .setMiniTree(true)\n      .setStyle('imageCircle')\n      .setOnHoverPathToMain()\n      .setOnCardClick((d: any) => {\n        // Обработчик клика по карточке - открываем drawer\n        console.log('Card clicked via f3:', d);\n        console.log('Type of d:', typeof d);\n        console.log('Keys in d:', Object.keys(d || {}));\n        \n        // d может содержать вложенную структуру, попробуем разные варианты\n        let personId = null;\n        \n        if (d && d.id) {\n          personId = d.id;\n        } else if (d && d.data && d.data.id) {\n          personId = d.data.id;\n        } else if (d && d.id !== undefined) {\n          personId = String(d.id);\n        } else if (d && typeof d === 'object') {\n          // Ищем id в любом вложенном объекте\n          const findId = (obj: any): any => {\n            if (obj.id) return obj.id;\n            for (const key in obj) {\n              if (typeof obj[key] === 'object' && obj[key] !== null) {\n                const found = findId(obj[key]);\n                if (found) return found;\n              }\n            }\n            return null;\n          };\n          personId = findId(d);\n        }\n        \n        console.log('Extracted person ID:', personId);\n        \n        if (personId) {\n          console.log('Setting selected person:', personId);\n          setSelectedPersonId(String(personId));\n          setIsDrawerOpen(true);\n        } else {\n          console.log('Could not extract person ID from:', d);\n          // Попробуем резервный способ через DOM\n          console.log('Fallback not implemented in this context');\n        }\n      });\n\n    f3Chart.updateTree({ initial: true });\n\n    // Дополнительный способ установки обработчика клика через DOM события\n    setTimeout(() => {\n      if (!containerRef.current) return;\n      \n      const cards = containerRef.current.querySelectorAll('.card');\n      console.log('Found cards for click handlers:', cards.length);\n      console.log('Original data for matching:', data);\n      \n      cards.forEach((card) => {\n        const cardElement = card as HTMLElement;\n        cardElement.style.cursor = 'pointer';\n        \n        // Очищаем старые обработчики\n        const newCard = cardElement.cloneNode(true) as HTMLElement;\n        cardElement.parentNode?.replaceChild(newCard, cardElement);\n        \n        // Ищем соответствующие данные по тексту карточки\n        const cardText = newCard.textContent || '';\n        console.log('Card text:', cardText);\n        \n        // Ищем персону по имени в тексте карточки\n        const personData = data.find(person => {\n          const firstName = person.data[\"first name\"];\n          const lastName = person.data[\"last name\"];\n          const fullName = `${firstName} ${lastName}`;\n          \n          const hasFirstName = cardText.includes(firstName);\n          const hasLastName = cardText.includes(lastName);\n          const hasFullName = cardText.includes(fullName);\n          \n          console.log(`Checking ${fullName}: hasFirst=${hasFirstName}, hasLast=${hasLastName}, hasFull=${hasFullName}`);\n          \n          return hasFirstName && hasLastName;\n        });\n        \n        if (personData) {\n          console.log('Matched person data:', personData);\n          newCard.setAttribute('data-person-id', personData.id);\n          \n          newCard.addEventListener('click', (e) => {\n            console.log('Card clicked via DOM event:', personData);\n            e.preventDefault();\n            e.stopPropagation();\n            \n            console.log('Setting selected person via DOM:', personData.id);\n            setSelectedPersonId(personData.id);\n            setIsDrawerOpen(true);\n          });\n        } else {\n          console.log('No matching person data found for card:', cardText);\n        }\n      });\n    }, 1000);\n  };\n\n  const handleCreateFirstPerson = () => {\n    setSelectedPersonId(null); // Для создания первой персоны\n    setIsDrawerOpen(true);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-96 bg-muted rounded-lg\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-muted-foreground\">Отбасы ағашы жүктелуде...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full h-full fixed top-0 left-0\">\n      {/* Добавляем стили для линий */}\n      <style dangerouslySetInnerHTML={{ __html: treeStyles }} />\n      \n      {/* Диаграмма */}\n      {familyTree.length === 0 ? (\n        <div className=\"flex flex-col items-center justify-center h-96 text-center mt-20\">\n          <div className=\"text-muted-foreground mb-4\">\n            <svg className=\"w-16 h-16 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n            </svg>\n            <h3 className=\"text-lg font-medium\">Отбасы ағашы бос</h3>\n            <p className=\"text-sm\">Алғашқы тұлғаны қосу арқылы бастаңыз</p>\n          </div>\n          <Button onClick={handleCreateFirstPerson} className=\"flex items-center gap-2\">\n            <Plus className=\"h-4 w-4\" />\n            Алғашқы тұлғаны қосу\n          </Button>\n        </div>\n      ) : (\n        <div \n          ref={containerRef} \n          className=\"f3 f3-cont !bg-white !h-[100vh] !max-h-[100vh]\"\n          style={{ height: 'auto' }}\n        />\n      )}\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1672, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/ui/drawer.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Drawer({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) {\n  return <DrawerPrimitive.Root data-slot=\"drawer\" {...props} />\n}\n\nfunction DrawerTrigger({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Trigger>) {\n  return <DrawerPrimitive.Trigger data-slot=\"drawer-trigger\" {...props} />\n}\n\nfunction DrawerPortal({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Portal>) {\n  return <DrawerPrimitive.Portal data-slot=\"drawer-portal\" {...props} />\n}\n\nfunction DrawerClose({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Close>) {\n  return <DrawerPrimitive.Close data-slot=\"drawer-close\" {...props} />\n}\n\nfunction DrawerOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Overlay>) {\n  return (\n    <DrawerPrimitive.Overlay\n      data-slot=\"drawer-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Content>) {\n  return (\n    <DrawerPortal data-slot=\"drawer-portal\">\n      <DrawerOverlay />\n      <DrawerPrimitive.Content\n        data-slot=\"drawer-content\"\n        className={cn(\n          \"group/drawer-content bg-background fixed z-50 flex h-auto flex-col\",\n          \"data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b\",\n          \"data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t\",\n          \"data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm\",\n          \"data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm\",\n          className\n        )}\n        {...props}\n      >\n        <div className=\"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block\" />\n        {children}\n      </DrawerPrimitive.Content>\n    </DrawerPortal>\n  )\n}\n\nfunction DrawerHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"drawer-header\"\n      className={cn(\n        \"flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"drawer-footer\"\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Title>) {\n  return (\n    <DrawerPrimitive.Title\n      data-slot=\"drawer-title\"\n      className={cn(\"text-foreground font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Description>) {\n  return (\n    <DrawerPrimitive.Description\n      data-slot=\"drawer-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,yIAAA,CAAA,SAAe,CAAC,IAAI;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,yIAAA,CAAA,SAAe,CAAC,OAAO;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6LAAC,yIAAA,CAAA,SAAe,CAAC,MAAM;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,yIAAA,CAAA,SAAe,CAAC,KAAK;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6LAAC,yIAAA,CAAA,SAAe,CAAC,OAAO;QACtB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,GAAG,OACkD;IACrD,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,yIAAA,CAAA,SAAe,CAAC,OAAO;gBACtB,aAAU;gBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sEACA,kQACA,uRACA,+NACA,yNACA;gBAED,GAAG,KAAK;;kCAET,6LAAC;wBAAI,WAAU;;;;;;oBACd;;;;;;;;;;;;;AAIT;MAzBS;AA2BT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4LACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,yIAAA,CAAA,SAAe,CAAC,KAAK;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,yIAAA,CAAA,SAAe,CAAC,WAAW;QAC1B,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 1852, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,qKAAA,CAAA,OAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,qKAAA,CAAA,UAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6LAAC,qKAAA,CAAA,SAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,qKAAA,CAAA,QAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6LAAC,qKAAA,CAAA,UAAuB;QACtB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,aAAU;gBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,qKAAA,CAAA,QAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6LAAC,mMAAA,CAAA,QAAK;;;;;0CACN,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,qKAAA,CAAA,QAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 2050, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 2082, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,oKAAA,CAAA,OAAmB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 2116, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/ui/image-upload.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useRef } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Upload, X, Loader2 } from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface ImageUploadProps {\n  value?: string | null;\n  onChange: (url: string | null) => void;\n  placeholder?: string;\n  className?: string;\n}\n\nexport function ImageUpload({ value, onChange, placeholder = \"Аватар жүктеу\", className }: ImageUploadProps) {\n  const [isUploading, setIsUploading] = useState(false);\n  const [preview, setPreview] = useState<string | null>(value || null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    // Создаем превью\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      setPreview(e.target?.result as string);\n    };\n    reader.readAsDataURL(file);\n\n    // Загружаем файл\n    try {\n      setIsUploading(true);\n      \n      const formData = new FormData();\n      formData.append('file', file);\n\n      const response = await fetch('/api/upload', {\n        method: 'POST',\n        body: formData,\n      });\n\n      const result = await response.json();\n\n      if (result.success) {\n        onChange(result.url);\n        toast.success('Сурет сәтті жүктелді');\n      } else {\n        throw new Error(result.error || 'Жүктеу қатесі');\n      }\n    } catch (error) {\n      console.error('Upload error:', error);\n      toast.error('Сурет жүктеу қатесі');\n      setPreview(value || null);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const handleRemove = () => {\n    setPreview(null);\n    onChange(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const handleClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  return (\n    <div className={`space-y-3 ${className}`}>\n      <div className=\"flex items-center gap-4\">\n        <Avatar className=\"h-16 w-16 ring-2 ring-muted cursor-pointer\" onClick={handleClick}>\n          <AvatarImage src={preview || undefined} alt=\"Preview\" />\n          <AvatarFallback className=\"bg-muted/50\">\n            {isUploading ? (\n              <Loader2 className=\"h-6 w-6 animate-spin\" />\n            ) : (\n              <Upload className=\"h-6 w-6 text-muted-foreground\" />\n            )}\n          </AvatarFallback>\n        </Avatar>\n\n        <div className=\"flex-1 space-y-2\">\n          <div className=\"flex gap-2\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleClick}\n              disabled={isUploading}\n              className=\"flex items-center gap-2\"\n            >\n              <Upload className=\"h-4 w-4\" />\n              {isUploading ? 'Жүктелуде...' : placeholder}\n            </Button>\n\n            {preview && (\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleRemove}\n                disabled={isUploading}\n                className=\"flex items-center gap-2 text-destructive hover:text-destructive\"\n              >\n                <X className=\"h-4 w-4\" />\n                Жою\n              </Button>\n            )}\n          </div>\n\n          <p className=\"text-xs text-muted-foreground\">\n            JPG, PNG немесе GIF. Максимум 5MB.\n          </p>\n        </div>\n      </div>\n\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleFileSelect}\n        className=\"hidden\"\n      />\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;;;AANA;;;;;;AAeO,SAAS,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAE,cAAc,eAAe,EAAE,SAAS,EAAoB;;IACzG,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB,SAAS;IAC/D,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAE9C,MAAM,mBAAmB,OAAO;QAC9B,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACpC,IAAI,CAAC,MAAM;QAEX,iBAAiB;QACjB,MAAM,SAAS,IAAI;QACnB,OAAO,MAAM,GAAG,CAAC;YACf,WAAW,EAAE,MAAM,EAAE;QACvB;QACA,OAAO,aAAa,CAAC;QAErB,iBAAiB;QACjB,IAAI;YACF,eAAe;YAEf,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,QAAQ;YAExB,MAAM,WAAW,MAAM,MAAM,eAAe;gBAC1C,QAAQ;gBACR,MAAM;YACR;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,OAAO,OAAO,EAAE;gBAClB,SAAS,OAAO,GAAG;gBACnB,2IAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YAChB,OAAO;gBACL,MAAM,IAAI,MAAM,OAAO,KAAK,IAAI;YAClC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACZ,WAAW,SAAS;QACtB,SAAU;YACR,eAAe;QACjB;IACF;IAEA,MAAM,eAAe;QACnB,WAAW;QACX,SAAS;QACT,IAAI,aAAa,OAAO,EAAE;YACxB,aAAa,OAAO,CAAC,KAAK,GAAG;QAC/B;IACF;IAEA,MAAM,cAAc;QAClB,aAAa,OAAO,EAAE;IACxB;IAEA,qBACE,6LAAC;QAAI,WAAW,CAAC,UAAU,EAAE,WAAW;;0BACtC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,qIAAA,CAAA,SAAM;wBAAC,WAAU;wBAA6C,SAAS;;0CACtE,6LAAC,qIAAA,CAAA,cAAW;gCAAC,KAAK,WAAW;gCAAW,KAAI;;;;;;0CAC5C,6LAAC,qIAAA,CAAA,iBAAc;gCAAC,WAAU;0CACvB,4BACC,6LAAC,oNAAA,CAAA,UAAO;oCAAC,WAAU;;;;;yDAEnB,6LAAC,yMAAA,CAAA,SAAM;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAKxB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,qIAAA,CAAA,SAAM;wCACL,MAAK;wCACL,SAAQ;wCACR,MAAK;wCACL,SAAS;wCACT,UAAU;wCACV,WAAU;;0DAEV,6LAAC,yMAAA,CAAA,SAAM;gDAAC,WAAU;;;;;;4CACjB,cAAc,iBAAiB;;;;;;;oCAGjC,yBACC,6LAAC,qIAAA,CAAA,SAAM;wCACL,MAAK;wCACL,SAAQ;wCACR,MAAK;wCACL,SAAS;wCACT,UAAU;wCACV,WAAU;;0DAEV,6LAAC,+LAAA,CAAA,IAAC;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;0CAM/B,6LAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;;;;;;;0BAMjD,6LAAC;gBACC,KAAK;gBACL,MAAK;gBACL,QAAO;gBACP,UAAU;gBACV,WAAU;;;;;;;;;;;;AAIlB;GAnHgB;KAAA","debugId":null}},
    {"offset": {"line": 2334, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 2449, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/aulet/parent-selector-dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { useAulet, type PersonData } from '@/contexts/aulet-context';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Card, CardContent } from \"@/components/ui/card\";\n// import { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Save, UserPlus } from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface ParentSelectorDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  parentId: string;\n  parentGender: 'M' | 'F';\n}\n\nexport function ParentSelectorDialog({ \n  open, \n  onOpenChange, \n  parentId, \n  parentGender \n}: ParentSelectorDialogProps) {\n  const { familyTree, addChild } = useAulet();\n  \n  const [childData, setChildData] = useState<PersonData>({\n    first_name: '',\n    last_name: '',\n    gender: 'M',\n    birthday: '',\n    death_date: null,\n    avatar: null,\n  });\n\n  const [selectedParentId, setSelectedParentId] = useState<string | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Получаем супругов выбранного родителя (должны быть противоположного пола)\n  const selectedParent = familyTree.find(p => p.id === parentId);\n  const possibleParents = familyTree.filter(person => \n    person.id !== parentId && \n    person.data.gender !== parentGender &&\n    // Проверяем, является ли этот человек супругом выбранного родителя\n    selectedParent?.rels.spouses.includes(person.id)\n  );\n  \n  console.log('Selected parent:', selectedParent);\n  console.log('Selected parent spouses:', selectedParent?.rels.spouses);\n  console.log('Possible parents (spouses only):', possibleParents);\n\n  const handleSave = async () => {\n    if (!childData.first_name.trim() || !childData.last_name.trim()) {\n      toast.error(\"Баланың аты-жөні міндетті\");\n      return;\n    }\n\n    try {\n      setIsSubmitting(true);\n      await addChild(parentId, selectedParentId, childData);\n      \n      // Сброс формы\n      setChildData({\n        first_name: '',\n        last_name: '',\n        gender: 'M',\n        birthday: '',\n        death_date: null,\n        avatar: null,\n      });\n      setSelectedParentId(null);\n      onOpenChange(false);\n    } catch (error) {\n      console.error('Error adding child:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleClose = () => {\n    setChildData({\n      first_name: '',\n      last_name: '',\n      gender: 'M',\n      birthday: '',\n      death_date: null,\n      avatar: null,\n    });\n    setSelectedParentId(null);\n    onOpenChange(false);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={handleClose}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>Бала қосу</DialogTitle>\n          <DialogDescription>\n            Жаңа бала туралы мәліметтерді енгізіңіз және екінші ата-ананы таңдаңыз\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* Информация о ребенке */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-medium\">Бала туралы мәліметтер</h3>\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"child_first_name\">Аты *</Label>\n                <Input\n                  id=\"child_first_name\"\n                  value={childData.first_name}\n                  onChange={(e) => setChildData(prev => ({ ...prev, first_name: e.target.value }))}\n                  placeholder=\"Баланың атын енгізіңіз\"\n                  required\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"child_last_name\">Тегі *</Label>\n                <Input\n                  id=\"child_last_name\"\n                  value={childData.last_name}\n                  onChange={(e) => setChildData(prev => ({ ...prev, last_name: e.target.value }))}\n                  placeholder=\"Баланың тегін енгізіңіз\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"child_gender\">Жынысы</Label>\n                <select\n                  id=\"child_gender\"\n                  value={childData.gender}\n                  onChange={(e) => setChildData(prev => ({ ...prev, gender: e.target.value as 'M' | 'F' }))}\n                  className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                >\n                  <option value=\"M\">Ер</option>\n                  <option value=\"F\">Әйел</option>\n                </select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"child_birthday\">Туған күні</Label>\n                <Input\n                  id=\"child_birthday\"\n                  type=\"date\"\n                  value={childData.birthday}\n                  onChange={(e) => setChildData(prev => ({ ...prev, birthday: e.target.value }))}\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Выбор второго родителя */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-medium\">Екінші ата-ана (жұбайлар арасынан)</h3>\n            \n            {possibleParents.length > 0 ? (\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"parent-select\">Екінші ата-ананы таңдаңыз</Label>\n                <select\n                  id=\"parent-select\"\n                  value={selectedParentId || \"\"}\n                  onChange={(e) => setSelectedParentId(e.target.value || null)}\n                  className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                >\n                  <option value=\"\">Екінші ата-ана жоқ</option>\n                  {possibleParents.map(person => (\n                    <option key={person.id} value={person.id}>\n                      {person.data[\"first name\"]} {person.data[\"last name\"]} ({person.data.gender === 'M' ? 'Ер' : 'Әйел'})\n                    </option>\n                  ))}\n                </select>\n                \n                {selectedParentId && (\n                  <div className=\"mt-2\">\n                    {(() => {\n                      const selectedPerson = possibleParents.find(p => p.id === selectedParentId);\n                      return selectedPerson ? (\n                        <div className=\"flex items-center gap-3 p-3 bg-muted rounded-lg\">\n                          <Avatar className=\"h-10 w-10\">\n                            <AvatarImage src={selectedPerson.data.avatar || undefined} />\n                            <AvatarFallback>\n                              {selectedPerson.data[\"first name\"].charAt(0)}{selectedPerson.data[\"last name\"].charAt(0)}\n                            </AvatarFallback>\n                          </Avatar>\n                          <div>\n                            <div className=\"font-medium\">\n                              {selectedPerson.data[\"first name\"]} {selectedPerson.data[\"last name\"]}\n                            </div>\n                            <div className=\"text-sm text-muted-foreground\">\n                              {selectedPerson.data.gender === 'M' ? 'Ер' : 'Әйел'} • {selectedPerson.data.birthday}\n                            </div>\n                          </div>\n                        </div>\n                      ) : null;\n                    })()}\n                  </div>\n                )}\n              </div>\n            ) : (\n                             <Card>\n                 <CardContent className=\"pt-6\">\n                   <p className=\"text-sm text-muted-foreground text-center\">\n                     Жұбайлар жоқ. Алдымен жұбай қосыңыз.\n                   </p>\n                   <p className=\"text-xs text-muted-foreground text-center mt-2\">\n                     Немесе баланы бір ата-анасыз \"Екінші ата-ана жоқ\" таңдап құруға болады\n                   </p>\n                 </CardContent>\n               </Card>\n            )}\n          </div>\n        </div>\n\n        <DialogFooter>\n          <div className=\"flex gap-2\">\n            <Button \n              onClick={handleSave} \n              disabled={isSubmitting}\n              className=\"flex items-center gap-2\"\n            >\n              <Save className=\"h-4 w-4\" />\n              {isSubmitting ? \"Қосылуда...\" : \"Баланы қосу\"}\n            </Button>\n            <Button variant=\"outline\" onClick={handleClose}>\n              Болдырмау\n            </Button>\n          </div>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2994, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/components/aulet/aulet-person-drawer.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useAulet, type PersonData, type PersonRels, type AuletPerson } from '@/contexts/aulet-context';\nimport {\n  Drawer,\n  DrawerClose,\n  DrawerContent,\n  DrawerDescription,\n  DrawerFooter,\n  DrawerHeader,\n  DrawerTitle,\n} from \"@/components/ui/drawer\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { ImageUpload } from \"@/components/ui/image-upload\";\nimport { toast } from 'sonner';\nimport { X, Save, Trash2, UserPlus, Heart, Baby } from 'lucide-react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { ParentSelectorDialog } from './parent-selector-dialog';\n\n// Добавляем состояния для диалогов\ntype DialogMode = 'none' | 'add-spouse' | 'add-child';\n\nexport function AuletPersonDrawer() {\n  const { \n    isDrawerOpen, \n    setIsDrawerOpen, \n    selectedPerson,\n    selectedPersonId,\n    familyTree,\n    createPerson,\n    updatePerson,\n    deletePerson,\n    addSpouse,\n    isLoading\n  } = useAulet();\n\n  const { user } = useAuth();\n\n  const [formData, setFormData] = useState<PersonData>({\n    first_name: '',\n    last_name: '',\n    gender: 'M',\n    birthday: '',\n    death_date: null,\n    avatar: null,\n  });\n\n  const [formRels, setFormRels] = useState<PersonRels>({\n    spouses: [],\n    children: [],\n    father: null,\n    mother: null,\n  });\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [dialogMode, setDialogMode] = useState<DialogMode>('none');\n  const [spouseFormData, setSpouseFormData] = useState<PersonData>({\n    first_name: '',\n    last_name: '',\n    gender: 'F',\n    birthday: '',\n    death_date: null,\n    avatar: null,\n  });\n\n  // Инициализация формы\n  useEffect(() => {\n    if (selectedPerson) {\n      // Редактирование существующей персоны\n      setFormData({\n        first_name: selectedPerson.data[\"first name\"] || '',\n        last_name: selectedPerson.data[\"last name\"] || '',\n        gender: selectedPerson.data.gender || 'M',\n        birthday: selectedPerson.data.birthday || '',\n        death_date: selectedPerson.data.death_date || null,\n        avatar: selectedPerson.data.avatar || null,\n      });\n\n      // Преобразуем связи из string[] в number[]\n      setFormRels({\n        spouses: selectedPerson.rels.spouses.map(id => parseInt(id)),\n        children: selectedPerson.rels.children.map(id => parseInt(id)),\n        father: null, // Эти данные нужно получать отдельно из API\n        mother: null,\n      });\n    } else {\n      // Создание новой персоны\n      setFormData({\n        first_name: '',\n        last_name: '',\n        gender: 'M',\n        birthday: '',\n        death_date: null,\n        avatar: null,\n      });\n      setFormRels({\n        spouses: [],\n        children: [],\n        father: null,\n        mother: null,\n      });\n    }\n  }, [selectedPerson]);\n\n  const handleSave = async () => {\n    if (!formData.first_name.trim() || !formData.last_name.trim()) {\n      toast.error(\"Аты-жөні міндетті\");\n      return;\n    }\n\n    if (!user?.id) {\n      toast.error(\"Пайдаланушы анықталмады\");\n      return;\n    }\n\n    try {\n      setIsSubmitting(true);\n\n      const personData: AuletPerson = {\n        user_id: user.id,\n        data: formData,\n        rels: formRels,\n      };\n\n      if (selectedPersonId) {\n        // Обновление существующей персоны\n        await updatePerson(selectedPersonId, personData);\n      } else {\n        // Создание новой персоны\n        await createPerson(personData);\n      }\n\n      handleClose();\n    } catch (error) {\n      console.error('Error saving person:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!selectedPersonId) return;\n\n    if (confirm(\"Бұл тұлғаны жойғыңыз келе ме? Бұл әрекетті болдырмау мүмкін емес.\")) {\n      try {\n        setIsSubmitting(true);\n        await deletePerson(selectedPersonId);\n        handleClose();\n      } catch (error) {\n        console.error('Error deleting person:', error);\n      } finally {\n        setIsSubmitting(false);\n      }\n    }\n  };\n\n  const handleAddSpouse = async () => {\n    if (!selectedPersonId || !spouseFormData.first_name.trim() || !spouseFormData.last_name.trim()) {\n      toast.error(\"Жұбайдың аты-жөні міндетті\");\n      return;\n    }\n\n    try {\n      setIsSubmitting(true);\n      await addSpouse(selectedPersonId, spouseFormData);\n      \n      // Сброс формы\n      setSpouseFormData({\n        first_name: '',\n        last_name: '',\n        gender: selectedPerson?.data.gender === 'M' ? 'F' : 'M',\n        birthday: '',\n        death_date: null,\n        avatar: null,\n      });\n      setDialogMode('none');\n    } catch (error) {\n      console.error('Error adding spouse:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleClose = () => {\n    setDialogMode('none');\n    setIsDrawerOpen(false);\n  };\n\n  const isEditMode = !!selectedPersonId;\n\n  if (isLoading) {\n    return (\n      <Drawer open={isDrawerOpen} onOpenChange={setIsDrawerOpen}>\n        <DrawerContent>\n          <DrawerHeader>\n            <DrawerTitle>Жүктелуде...</DrawerTitle>\n          </DrawerHeader>\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\n          </div>\n        </DrawerContent>\n      </Drawer>\n    );\n  }\n\n  return (\n    <Drawer open={isDrawerOpen} onOpenChange={handleClose}>\n      <DrawerContent className=\"max-h-[90vh]\">\n        <DrawerHeader className=\"text-left border-b-0 pb-6 px-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-4\">\n              <Avatar className=\"h-14 w-14 ring-2 ring-muted\">\n                <AvatarImage \n                  src={selectedPerson?.data.avatar || undefined} \n                  alt={`${formData.first_name} ${formData.last_name}`} \n                  className=\"object-cover\"\n                />\n                <AvatarFallback className=\"text-lg font-semibold bg-gradient-to-br from-primary/20 to-primary/10\">\n                  {formData.first_name.charAt(0)}{formData.last_name.charAt(0)}\n                </AvatarFallback>\n              </Avatar>\n              <div className=\"space-y-1\">\n                <DrawerTitle className=\"text-2xl font-bold\">\n                  {isEditMode ? \"Тұлға мәліметтерін өзгерту\" : \"Жаңа тұлға қосу\"}\n                </DrawerTitle>\n                <DrawerDescription className=\"text-base\">\n                  {isEditMode ? \"Тұлға туралы ақпаратты өзгертіңіз\" : \"Жаңа тұлға мәліметтерін енгізіңіз\"}\n                </DrawerDescription>\n              </div>\n            </div>\n            <DrawerClose asChild>\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-10 w-10 rounded-full\">\n                <X className=\"h-5 w-5\" />\n              </Button>\n            </DrawerClose>\n          </div>\n        </DrawerHeader>\n\n        <div className=\"px-6 pb-4 overflow-y-auto\">\n          <div className=\"space-y-8\">\n            {/* Основная информация */}\n            <div className=\"space-y-6\">\n              <div className=\"space-y-1\">\n                <h3 className=\"text-lg font-semibold text-foreground\">Негізгі мәліметтер</h3>\n                <p className=\"text-sm text-muted-foreground\">Тұлға туралы негізгі ақпарат</p>\n              </div>\n              \n              <div className=\"space-y-5\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"first_name\" className=\"text-sm font-medium\">Аты *</Label>\n                    <Input\n                      id=\"first_name\"\n                      value={formData.first_name}\n                      onChange={(e) => setFormData(prev => ({ ...prev, first_name: e.target.value }))}\n                      placeholder=\"Атын енгізіңіз\"\n                      className=\"border-0 bg-muted/50 focus:bg-background transition-colors\"\n                      required\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"last_name\" className=\"text-sm font-medium\">Тегі *</Label>\n                    <Input\n                      id=\"last_name\"\n                      value={formData.last_name}\n                      onChange={(e) => setFormData(prev => ({ ...prev, last_name: e.target.value }))}\n                      placeholder=\"Тегін енгізіңіз\"\n                      className=\"border-0 bg-muted/50 focus:bg-background transition-colors\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"gender\" className=\"text-sm font-medium\">Жынысы</Label>\n                    <select\n                      id=\"gender\"\n                      value={formData.gender}\n                      onChange={(e) => setFormData(prev => ({ ...prev, gender: e.target.value as 'M' | 'F' }))}\n                      className=\"flex h-10 w-full rounded-md border-0 bg-muted/50 px-3 py-2 text-sm focus:bg-background transition-colors focus:outline-none focus:ring-2 focus:ring-ring\"\n                    >\n                      <option value=\"M\">Ер</option>\n                      <option value=\"F\">Әйел</option>\n                    </select>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"birthday\" className=\"text-sm font-medium\">Туған күні</Label>\n                    <Input\n                      id=\"birthday\"\n                      type=\"date\"\n                      value={formData.birthday}\n                      onChange={(e) => setFormData(prev => ({ ...prev, birthday: e.target.value }))}\n                      className=\"border-0 bg-muted/50 focus:bg-background transition-colors\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"death_date\" className=\"text-sm font-medium\">Қайтыс болған күні</Label>\n                    <Input\n                      id=\"death_date\"\n                      type=\"date\"\n                      value={formData.death_date || ''}\n                      onChange={(e) => setFormData(prev => ({ ...prev, death_date: e.target.value || null }))}\n                      className=\"border-0 bg-muted/50 focus:bg-background transition-colors\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label className=\"text-sm font-medium\">Аватар</Label>\n                    <ImageUpload\n                      value={formData.avatar}\n                      onChange={(url) => setFormData(prev => ({ ...prev, avatar: url }))}\n                      placeholder=\"Сурет жүктеу\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Связи */}\n            {isEditMode && (\n              <div className=\"space-y-6\">\n                <div className=\"space-y-1\">\n                  <h3 className=\"text-lg font-semibold text-foreground\">Отбасылық байланыстар</h3>\n                  <p className=\"text-sm text-muted-foreground\">Жұбайлар мен балаларды басқару</p>\n                </div>\n                \n                <div className=\"bg-muted/30 rounded-lg p-4 space-y-3\">\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span className=\"text-muted-foreground\">Жұбайлар:</span>\n                    <span className=\"font-medium\">{formRels.spouses.length}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span className=\"text-muted-foreground\">Балалар:</span>\n                    <span className=\"font-medium\">{formRels.children.length}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span className=\"text-muted-foreground\">Жалпы тұлғалар:</span>\n                    <span className=\"font-medium\">{familyTree.length}</span>\n                  </div>\n                </div>\n                \n                <div className=\"grid grid-cols-2 gap-3\">\n                  <Button \n                    variant=\"outline\" \n                    onClick={() => {\n                      setSpouseFormData({\n                        first_name: '',\n                        last_name: '',\n                        gender: selectedPerson?.data.gender === 'M' ? 'F' : 'M',\n                        birthday: '',\n                        death_date: null,\n                        avatar: null,\n                      });\n                      setDialogMode('add-spouse');\n                    }}\n                    className=\"flex items-center gap-3 h-auto py-4 border-0 bg-gradient-to-r from-pink-50 to-red-50 hover:from-pink-100 hover:to-red-100 text-red-700 hover:text-red-800\"\n                  >\n                    <Heart className=\"h-5 w-5\" />\n                    <div className=\"text-left\">\n                      <div className=\"font-medium\">Жұбай қосу</div>\n                      <div className=\"text-xs opacity-70\">Жаңа жұбай құру</div>\n                    </div>\n                  </Button>\n                  \n                  <Button \n                    variant=\"outline\" \n                    onClick={() => setDialogMode('add-child')}\n                    className=\"flex items-center gap-3 h-auto py-4 border-0 bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 text-blue-700 hover:text-blue-800\"\n                  >\n                    <Baby className=\"h-5 w-5\" />\n                    <div className=\"text-left\">\n                      <div className=\"font-medium\">Бала қосу</div>\n                      <div className=\"text-xs opacity-70\">Жаңа бала құру</div>\n                    </div>\n                  </Button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <DrawerFooter className=\"border-t-0 bg-muted/20 px-6\">\n          <div className=\"flex gap-3\">\n            <Button \n              onClick={handleSave} \n              disabled={isSubmitting}\n              className=\"flex items-center gap-2 flex-1 h-11\"\n            >\n              <Save className=\"h-4 w-4\" />\n              {isSubmitting ? \"Сақталуда...\" : \"Сақтау\"}\n            </Button>\n            \n            {isEditMode && (\n              <Button \n                variant=\"destructive\" \n                onClick={handleDelete}\n                disabled={isSubmitting}\n                className=\"flex items-center gap-2 h-11\"\n              >\n                <Trash2 className=\"h-4 w-4\" />\n                Жою\n              </Button>\n            )}\n            \n            <DrawerClose asChild>\n              <Button variant=\"ghost\" className=\"h-11\">Жабу</Button>\n            </DrawerClose>\n          </div>\n        </DrawerFooter>\n      </DrawerContent>\n\n      {/* Диалог добавления супруга */}\n      <Dialog open={dialogMode === 'add-spouse'} onOpenChange={(open) => !open && setDialogMode('none')}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Жұбай қосу</DialogTitle>\n            <DialogDescription>\n              {selectedPerson?.data[\"first name\"]} үшін жаңа жұбай мәліметтерін енгізіңіз\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"spouse_first_name\">Аты *</Label>\n                <Input\n                  id=\"spouse_first_name\"\n                  value={spouseFormData.first_name}\n                  onChange={(e) => setSpouseFormData(prev => ({ ...prev, first_name: e.target.value }))}\n                  placeholder=\"Жұбайдың атын енгізіңіз\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"spouse_last_name\">Тегі *</Label>\n                <Input\n                  id=\"spouse_last_name\"\n                  value={spouseFormData.last_name}\n                  onChange={(e) => setSpouseFormData(prev => ({ ...prev, last_name: e.target.value }))}\n                  placeholder=\"Жұбайдың тегін енгізіңіз\"\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"spouse_gender\">Жынысы</Label>\n                <select\n                  id=\"spouse_gender\"\n                  value={spouseFormData.gender}\n                  onChange={(e) => setSpouseFormData(prev => ({ ...prev, gender: e.target.value as 'M' | 'F' }))}\n                  className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                >\n                  <option value=\"M\">Ер</option>\n                  <option value=\"F\">Әйел</option>\n                </select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"spouse_birthday\">Туған күні</Label>\n                <Input\n                  id=\"spouse_birthday\"\n                  type=\"date\"\n                  value={spouseFormData.birthday}\n                  onChange={(e) => setSpouseFormData(prev => ({ ...prev, birthday: e.target.value }))}\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm font-medium\">Аватар</Label>\n              <ImageUpload\n                value={spouseFormData.avatar}\n                onChange={(url) => setSpouseFormData(prev => ({ ...prev, avatar: url }))}\n                placeholder=\"Жұбайдың суретін жүктеу\"\n              />\n            </div>\n          </div>\n\n          <DialogFooter>\n            <div className=\"flex gap-2\">\n              <Button \n                onClick={handleAddSpouse} \n                disabled={isSubmitting}\n                className=\"flex items-center gap-2\"\n              >\n                <Heart className=\"h-4 w-4\" />\n                {isSubmitting ? \"Қосылуда...\" : \"Жұбай қосу\"}\n              </Button>\n              <Button variant=\"outline\" onClick={() => setDialogMode('none')}>\n                Болдырмау\n              </Button>\n            </div>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Диалог добавления ребенка */}\n      {selectedPerson && (\n        <ParentSelectorDialog\n          open={dialogMode === 'add-child'}\n          onOpenChange={(open) => !open && setDialogMode('none')}\n          parentId={selectedPersonId!}\n          parentGender={selectedPerson.data.gender}\n        />\n      )}\n    </Drawer>\n  );\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4238, "column": 0}, "map": {"version":3,"sources":["file:///Users/baxa/Documents/atatek/atatek-v2/frontend/src/app/menin-auletim/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useRef } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowRight, ArrowDown, Download, Search, RefreshCw } from \"lucide-react\";\nimport { NavHeader } from \"@/components/nav/NavHeader\";\nimport { AuletProvider, useAulet } from '@/contexts/aulet-context';\nimport { AuletFamilyChart } from '@/components/aulet/aulet-family-chart';\nimport { AuletPersonDrawer } from '@/components/aulet/aulet-person-drawer';\nimport jsPDF from \"jspdf\";\nimport html2canvas from \"html2canvas\";\n\nfunction AuletContent() {\n  const [orientation, setOrientation] = useState<\"vertical\" | \"horizontal\">(\"vertical\");\n  const { isDrawerOpen, setIsDrawerOpen, fetchFamilyTree, familyTree } = useAulet();\n  const contentRef = useRef<HTMLDivElement>(null);\n\n  const orentChange = () => {\n    setOrientation(orientation === \"vertical\" ? \"horizontal\" : \"vertical\");\n    fetchFamilyTree();\n  }\n\n  const handleDownload = async () => {\n    const element = contentRef.current;\n    if (!element) return;\n\n    const navHeader = document.getElementById(\"nav-header\");\n    const logo = document.getElementById(\"logo\");\n\n    // Скрыть header, показать логотип\n    if (navHeader) navHeader.style.visibility = \"hidden\";\n    if (logo) {\n      logo.style.visibility = \"visible\";\n      logo.style.position = \"static\";\n      logo.style.left = \"0\";\n    }\n\n    // Подождать, чтобы DOM обновился\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n\n    try {\n      const canvas = await html2canvas(element, {\n        scale: 2,\n        useCORS: true,\n        logging: false,\n      });\n\n      const imgData = canvas.toDataURL(\"image/jpeg\", 1.0);\n      const pdf = new jsPDF(\"landscape\", \"mm\", \"a4\");\n\n      const pdfWidth = pdf.internal.pageSize.getWidth();\n      const pdfHeight = (canvas.height * pdfWidth) / canvas.width;\n\n      pdf.addImage(imgData, \"JPEG\", 0, 0, pdfWidth, pdfHeight);\n      pdf.save(\"menin-auletim-tree.pdf\");\n    } catch (error) {\n      console.error(\"PDF generation failed:\", error);\n    } finally {\n      if (navHeader) navHeader.style.visibility = \"visible\";\n      if (logo) {\n        logo.style.visibility = \"hidden\";\n        logo.style.position = \"absolute\";\n        logo.style.left = \"-9999px\";\n      }\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      {/* Белый фон на весь экран - нижний слой */}\n      <div className=\"fixed inset-0 bg-white -z-10\"></div>\n      \n      <div className=\"w-[85vw] mx-auto relative\">\n        {/* Навигация и кнопки управления - верхний слой */}\n        <div className=\"z-20 absolute top-0 w-[85vw]\" id=\"nav-header\">\n          <NavHeader />\n          <div className=\"flex items-center justify-between mt-4 pb-4\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"text-sm text-muted-foreground bg-muted/50 px-3 py-1 rounded-full\">\n                {familyTree.length} адам\n              </div>\n            </div>\n            \n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"icon\"\n                className=\"bg-primary text-white\"\n                onClick={() =>\n                  orentChange()\n                }\n                title=\"Бағдарды өзгерту\"\n              >\n                {orientation === \"vertical\" ? <ArrowRight /> : <ArrowDown />}\n              </Button>\n   \n              <Button\n                variant=\"outline\"\n                size=\"icon\"\n                className=\"bg-primary text-white\"\n                onClick={fetchFamilyTree}\n                title=\"Жаңарту\"\n              >\n                <RefreshCw />\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"icon\"\n                className=\"bg-primary text-white\"\n                onClick={handleDownload}\n                title=\"PDF жүктеу\"\n              >\n                <Download />\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Контент с деревом - средний слой */}\n        <div\n          ref={contentRef}\n          className=\"relative pt-32 pb-10 z-10\"\n          style={{ minHeight: \"100vh\" }}\n        >\n          <img\n            src=\"/logo.png\"\n            alt=\"logo\"\n            id=\"logo\"\n            className=\"w-[100px] absolute top-10 left-10\"\n            style={{ visibility: \"hidden\", position: \"absolute\", left: \"-9999px\" }}\n          />\n          <AuletFamilyChart orientation={orientation} />\n        </div>\n\n        {/* Drawer - самый верхний слой */}\n        <AuletPersonDrawer />\n      </div>\n    </div>\n  );\n}\n\nexport default function MeninAuletimPage() {\n  return (\n    <AuletProvider>\n      <AuletContent />\n    </AuletProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAVA;;;;;;;;;;AAYA,SAAS;;IACP,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA6B;IAC1E,MAAM,EAAE,YAAY,EAAE,eAAe,EAAE,eAAe,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,WAAQ,AAAD;IAC9E,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAE1C,MAAM,cAAc;QAClB,eAAe,gBAAgB,aAAa,eAAe;QAC3D;IACF;IAEA,MAAM,iBAAiB;QACrB,MAAM,UAAU,WAAW,OAAO;QAClC,IAAI,CAAC,SAAS;QAEd,MAAM,YAAY,SAAS,cAAc,CAAC;QAC1C,MAAM,OAAO,SAAS,cAAc,CAAC;QAErC,kCAAkC;QAClC,IAAI,WAAW,UAAU,KAAK,CAAC,UAAU,GAAG;QAC5C,IAAI,MAAM;YACR,KAAK,KAAK,CAAC,UAAU,GAAG;YACxB,KAAK,KAAK,CAAC,QAAQ,GAAG;YACtB,KAAK,KAAK,CAAC,IAAI,GAAG;QACpB;QAEA,iCAAiC;QACjC,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;QAEnD,IAAI;YACF,MAAM,SAAS,MAAM,CAAA,GAAA,qJAAA,CAAA,UAAW,AAAD,EAAE,SAAS;gBACxC,OAAO;gBACP,SAAS;gBACT,SAAS;YACX;YAEA,MAAM,UAAU,OAAO,SAAS,CAAC,cAAc;YAC/C,MAAM,MAAM,IAAI,sJAAA,CAAA,UAAK,CAAC,aAAa,MAAM;YAEzC,MAAM,WAAW,IAAI,QAAQ,CAAC,QAAQ,CAAC,QAAQ;YAC/C,MAAM,YAAY,AAAC,OAAO,MAAM,GAAG,WAAY,OAAO,KAAK;YAE3D,IAAI,QAAQ,CAAC,SAAS,QAAQ,GAAG,GAAG,UAAU;YAC9C,IAAI,IAAI,CAAC;QACX,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C,SAAU;YACR,IAAI,WAAW,UAAU,KAAK,CAAC,UAAU,GAAG;YAC5C,IAAI,MAAM;gBACR,KAAK,KAAK,CAAC,UAAU,GAAG;gBACxB,KAAK,KAAK,CAAC,QAAQ,GAAG;gBACtB,KAAK,KAAK,CAAC,IAAI,GAAG;YACpB;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;;;;;0BAEf,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;wBAA+B,IAAG;;0CAC/C,6LAAC,yIAAA,CAAA,YAAS;;;;;0CACV,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CAAI,WAAU;;gDACZ,WAAW,MAAM;gDAAC;;;;;;;;;;;;kDAIvB,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,qIAAA,CAAA,SAAM;gDACL,SAAQ;gDACR,MAAK;gDACL,WAAU;gDACV,SAAS,IACP;gDAEF,OAAM;0DAEL,gBAAgB,2BAAa,6LAAC,qNAAA,CAAA,aAAU;;;;yEAAM,6LAAC,mNAAA,CAAA,YAAS;;;;;;;;;;0DAG3D,6LAAC,qIAAA,CAAA,SAAM;gDACL,SAAQ;gDACR,MAAK;gDACL,WAAU;gDACV,SAAS;gDACT,OAAM;0DAEN,cAAA,6LAAC,mNAAA,CAAA,YAAS;;;;;;;;;;0DAEZ,6LAAC,qIAAA,CAAA,SAAM;gDACL,SAAQ;gDACR,MAAK;gDACL,WAAU;gDACV,SAAS;gDACT,OAAM;0DAEN,cAAA,6LAAC,6MAAA,CAAA,WAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAOjB,6LAAC;wBACC,KAAK;wBACL,WAAU;wBACV,OAAO;4BAAE,WAAW;wBAAQ;;0CAE5B,6LAAC;gCACC,KAAI;gCACJ,KAAI;gCACJ,IAAG;gCACH,WAAU;gCACV,OAAO;oCAAE,YAAY;oCAAU,UAAU;oCAAY,MAAM;gCAAU;;;;;;0CAEvE,6LAAC,0JAAA,CAAA,mBAAgB;gCAAC,aAAa;;;;;;;;;;;;kCAIjC,6LAAC,2JAAA,CAAA,oBAAiB;;;;;;;;;;;;;;;;;AAI1B;GA/HS;;QAEgE,uIAAA,CAAA,WAAQ;;;KAFxE;AAiIM,SAAS;IACtB,qBACE,6LAAC,uIAAA,CAAA,gBAAa;kBACZ,cAAA,6LAAC;;;;;;;;;;AAGP;MANwB","debugId":null}}]
}